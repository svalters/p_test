var e,t,r=Object.defineProperty,s=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,c=(e,t,s)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,l=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&c(e,r,t[r]);if(a)for(var r of a(t))u.call(t,r)&&c(e,r,t[r]);return e},o=(e,t)=>s(e,n(t));import{r as d,R as f,T as m,C as b,u as p,a as g,b as y,c as v,d as h,J as x,Q as w,e as E,f as O,B as j,S as q,g as k,h as N}from"./vendor.f91a7304.js";(t=e||(e={})).info="info",t.success="success";const I=d.exports.createContext((e=>{})),S=({children:t})=>{const[r,s]=d.exports.useState([]),n=d.exports.useCallback((t=>{const r=l({id:Date.now(),type:e.info},t);s((e=>[...e,r])),setTimeout((()=>s((e=>e.filter((e=>e.id!==r.id))))),3e3)}),[s]);return f.createElement(I.Provider,{value:n},t,f.createElement(m,{className:"absolute top-0 right-0 w-full max-w-md p-6"},r.map((({id:t,message:r,type:s})=>f.createElement(b,{key:t.toString(),classNames:"slide",timeout:{enter:300,exit:150}},f.createElement("div",{className:"text-white px-6 py-4 border-0 rounded relative mb-4 w-full shadow-lg opacity-90 "+(s===e.success?"bg-green-300":"bg-gray-400")},f.createElement("span",{className:"font-semibold mr-8"},r)))))))};var V=e=>"checkbox"===e.type,A=e=>e instanceof Date,_=e=>null==e;const C=e=>"object"==typeof e;var z=e=>!_(e)&&!Array.isArray(e)&&C(e)&&!A(e),D=e=>e.substring(0,e.search(/.\d/))||e,F=e=>e.filter(Boolean),R=e=>void 0===e,$=(e,t,r)=>{if(z(e)&&t){const s=F(t.split(/[,[\].]+?/)).reduce(((e,t)=>_(e)?e:e[t]),e);return R(s)||s===e?R(e[t])?r:e[t]:s}};const T="blur",L="onBlur",M="onChange",B="onSubmit",Q="onTouched",P="all",U="max",H="min",J="maxLength",G="minLength",W="pattern",Y="required",K="validate";var X=(e,t)=>{const r=Object.assign({},e);return delete r[t],r};d.exports.createContext(null).displayName="RHFContext";var Z=(e,t,r,s,n=!0)=>e?new Proxy(t,{get:(e,t)=>{if(t in e)return r.current[t]!==P&&(r.current[t]=!n||P),s&&(s.current[t]=!0),e[t]}}):t,ee=e=>z(e)&&!Object.keys(e).length,te=e=>Array.isArray(e)?e:[e],re="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;const se=re?"Proxy"in window:"undefined"!=typeof Proxy;var ne=(e,t,r,s,n)=>t?Object.assign(Object.assign({},r[e]),{types:Object.assign(Object.assign({},r[e]&&r[e].types?r[e].types:{}),{[s]:n||!0})}):{},ae=e=>/^\w*$/.test(e),ie=e=>F(e.replace(/["|']|\]/g,"").split(/\.|\[/));function ue(e,t,r){let s=-1;const n=ae(t)?[t]:ie(t),a=n.length,i=a-1;for(;++s<a;){const t=n[s];let a=r;if(s!==i){const r=e[t];a=z(r)||Array.isArray(r)?r:isNaN(+n[s+1])?{}:[]}e[t]=a,e=e[t]}return e}const ce=(e,t,r)=>{for(const s of r||Object.keys(e)){const r=$(e,s);if(r){const e=r._f,s=X(r,"_f");if(e&&t(e.name)){if(e.ref.focus&&R(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else z(s)&&ce(s,t)}}},le=(e,t={})=>{for(const r in e.current){const s=e.current[r];if(s&&!_(t)){const e=s._f,n=X(s,"_f");ue(t,r,e&&e.ref?e.ref.disabled||e.refs&&e.refs.every((e=>e.disabled))?void 0:e.value:Array.isArray(s)?[]:{}),n&&le({current:n},t[r])}}return t};var oe=e=>_(e)||!C(e);function de(e,t,r){if(oe(e)||oe(t)||A(e)||A(t))return e===t;if(!d.exports.isValidElement(e)){const s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(const a of s){const s=e[a];if(!r||"ref"!==a){const e=t[a];if((z(s)||Array.isArray(s))&&(z(e)||Array.isArray(e))?!de(s,e,r):s!==e)return!1}}}return!0}function fe(e,t){if(oe(e)||oe(t))return t;for(const s in t){const n=e[s],a=t[s];try{e[s]=z(n)&&z(a)||Array.isArray(n)&&Array.isArray(a)?fe(n,a):a}catch(r){}}return e}function me(e,t,r,s,n){let a=-1;for(;++a<e.length;){for(const s in e[a])Array.isArray(e[a][s])?(!r[a]&&(r[a]={}),r[a][s]=[],me(e[a][s],$(t[a]||{},s,[]),r[a][s],r[a],s)):de($(t[a]||{},s),e[a][s])?ue(r[a]||{},s):r[a]=Object.assign(Object.assign({},r[a]),{[s]:!0});s&&!r.length&&delete s[n]}return r}var be=(e,t,r)=>fe(me(e,t,r.slice(0,e.length)),me(t,e,r.slice(0,e.length))),pe=e=>"boolean"==typeof e;function ge(e,t){const r=ae(t)?[t]:ie(t),s=1==r.length?e:function(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=R(e)?s++:e[t[s++]];return e}(e,r),n=r[r.length-1];let a;s&&delete s[n];for(let i=0;i<r.slice(0,-1).length;i++){let t,s=-1;const n=r.slice(0,-(i+1)),u=n.length-1;for(i>0&&(a=e);++s<n.length;){const r=n[s];t=t?t[r]:e[r],u===s&&(z(t)&&ee(t)||Array.isArray(t)&&!t.filter((e=>z(e)&&!ee(e)||pe(e))).length)&&(a?delete a[r]:delete e[r]),a=t}}return e}var ye=e=>"file"===e.type,ve=e=>"select-multiple"===e.type,he=e=>"radio"===e.type;const xe={value:!1,isValid:!1},we={value:!0,isValid:!0};var Ee=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!R(e[0].attributes.value)?R(e[0].value)||""===e[0].value?we:{value:e[0].value,isValid:!0}:we:xe}return xe},Oe=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>R(e)?e:t?""===e?NaN:+e:r?new Date(e):s?s(e):e;const je={isValid:!1,value:null};var qe=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),je):je;function ke(e){if(e&&e._f){const r=e._f.ref;if(r.disabled)return;return ye(r)?r.files:he(r)?qe(e._f.refs).value:ve(r)?(t=r.options,[...t].filter((({selected:e})=>e)).map((({value:e})=>e))):V(r)?Ee(e._f.refs).value:Oe(R(r.value)?e._f.ref.value:r.value,e._f)}var t}var Ne=(e,t,r,s)=>{const n={};for(const a of e){const e=$(t,a);e&&ue(n,a,e._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},Ie=e=>"function"==typeof e,Se=e=>"string"==typeof e,Ve=e=>Se(e)||d.exports.isValidElement(e),Ae=e=>e instanceof RegExp;function _e(e,t,r="validate"){if(Ve(e)||Array.isArray(e)&&e.every(Ve)||pe(e)&&!e)return{type:r,message:Ve(e)?e:"",ref:t}}var Ce=e=>z(e)&&!Ae(e)?e:{value:e,message:""},ze=async({_f:{ref:e,refs:t,required:r,maxLength:s,minLength:n,min:a,max:i,pattern:u,validate:c,name:l,value:o,valueAsNumber:d,mount:f}},m,b)=>{if(!f)return{};const p=t?t[0]:e,g=e=>{b&&p.reportValidity&&(p.setCustomValidity(pe(e)?"":e||" "),p.reportValidity())},y={},v=he(e),h=V(e),x=v||h,w=(d||ye(e))&&!e.value||""===o||Array.isArray(o)&&!o.length,E=ne.bind(null,l,m,y),O=(t,r,s,n=J,a=G)=>{const i=t?r:s;y[l]=Object.assign({type:t?n:a,message:i,ref:e},E(t?n:a,i))};if(r&&(!x&&(w||_(o))||pe(o)&&!o||h&&!Ee(t).isValid||v&&!qe(t).isValid)){const{value:e,message:t}=Ve(r)?{value:!!r,message:r}:Ce(r);if(e&&(y[l]=Object.assign({type:Y,message:t,ref:p},E(Y,t)),!m))return g(t),y}if(!(w||_(a)&&_(i))){let t,r;const s=Ce(i),n=Ce(a);if(isNaN(o)){const a=e.valueAsDate||new Date(o);Se(s.value)&&(t=a>new Date(s.value)),Se(n.value)&&(r=a<new Date(n.value))}else{const a=e.valueAsNumber||parseFloat(o);_(s.value)||(t=a>s.value),_(n.value)||(r=a<n.value)}if((t||r)&&(O(!!t,s.message,n.message,U,H),!m))return g(y[l].message),y}if((s||n)&&!w&&Se(o)){const e=Ce(s),t=Ce(n),r=!_(e.value)&&o.length>e.value,a=!_(t.value)&&o.length<t.value;if((r||a)&&(O(r,e.message,t.message),!m))return g(y[l].message),y}if(u&&!w&&Se(o)){const{value:t,message:r}=Ce(u);if(Ae(t)&&!o.match(t)&&(y[l]=Object.assign({type:W,message:r,ref:e},E(W,r)),!m))return g(r),y}if(c)if(Ie(c)){const e=_e(await c(o),p);if(e&&(y[l]=Object.assign(Object.assign({},e),E(K,e.message)),!m))return g(e.message),y}else if(z(c)){let e={};for(const t in c){if(!ee(e)&&!m)break;const r=_e(await c[t](o),p,t);r&&(e=Object.assign(Object.assign({},r),E(t,r.message)),g(r.message),m&&(y[l]=e))}if(!ee(e)&&(y[l]=Object.assign({ref:p},e),!m))return y}return g(!0),y},De=e=>({isOnSubmit:!e||e===B,isOnBlur:e===L,isOnChange:e===M,isOnAll:e===P,isOnTouch:e===Q}),Fe=e=>e instanceof HTMLElement;class Re{constructor(){this.tearDowns=[]}add(e){this.tearDowns.push(e)}unsubscribe(){for(const e of this.tearDowns)e();this.tearDowns=[]}}class $e{constructor(e,t){this.observer=e,this.closed=!1,t.add((()=>this.closed=!0))}next(e){this.closed||this.observer.next(e)}}class Te{constructor(){this.observers=[]}next(e){for(const t of this.observers)t.next(e)}subscribe(e){const t=new Re,r=new $e(e,t);return this.observers.push(r),t}unsubscribe(){this.observers=[]}}const Le="undefined"==typeof window;function Me({mode:e=B,reValidateMode:t=M,resolver:r,context:s,defaultValues:n={},shouldFocusError:a=!0,shouldUseNativeValidation:i,shouldUnregister:u,criteriaMode:c}={}){const[l,o]=d.exports.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),f=d.exports.useRef({isDirty:!se,dirtyFields:!se,touchedFields:!se,isValidating:!se,isValid:!se,errors:!se}),m=d.exports.useRef(r),b=d.exports.useRef(l),p=d.exports.useRef({}),g=d.exports.useRef(n),y=d.exports.useRef({}),v=d.exports.useRef(s),h=d.exports.useRef(!1),x=d.exports.useRef(!1),w=d.exports.useRef({watch:new Te,control:new Te,array:new Te,state:new Te}),E=d.exports.useRef({mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1}),O=De(e),j=c===P;m.current=r,v.current=s;const q=e=>E.current.watchAll||E.current.watch.has(e)||E.current.watch.has((e.match(/\w+/)||[])[0]),k=d.exports.useCallback((async(e,t,s,n,a,i)=>{const u=$(b.current.errors,t),c=!!f.current.isValid&&(r?a:await Q(p.current,!0));if(s?ue(b.current.errors,t,s):ge(b.current.errors,t),(i||(s?!de(u,s,!0):u)||!ee(n)||b.current.isValid!==c)&&!e){const e=Object.assign(Object.assign({},n),{isValid:!!c,errors:b.current.errors,name:t});b.current=Object.assign(Object.assign({},b.current),e),w.current.state.next(i?{name:t}:e)}w.current.state.next({isValidating:!1})}),[]),N=d.exports.useCallback(((e,t,r={},s,n)=>{n&&ie(e);const a=$(p.current,e);if(a){const n=a._f;if(n){const a=re&&Fe(n.ref)&&_(t)?"":t;if(n.value=Oe(t,n),he(n.ref)&&!n._c?(n.refs||[]).forEach((e=>e.checked=e.value===a)):!ye(n.ref)||Se(a)||n._c?ve(n.ref)?[...n.ref.options].forEach((e=>e.selected=a.includes(e.value))):V(n.ref)&&n.refs&&!n._c?n.refs.length>1?n.refs.forEach((e=>e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value)):n.refs[0].checked=!!a:n.ref.value=a:n.ref.files=a,s&&n._c){const r=le(p);ue(r,e,t),w.current.control.next({values:Object.assign(Object.assign({},g.current),r),name:e})}(r.shouldDirty||r.shouldTouch)&&S(e,a,r.shouldTouch),r.shouldValidate&&U(e)}else a._f={ref:{name:e,value:t},value:t}}}),[]),I=d.exports.useCallback(((e,t)=>{const r=le(p);return e&&t&&ue(r,e,t),!de(r,g.current)}),[]),S=d.exports.useCallback(((e,t,r,s=!0)=>{const n={name:e};let a=!1;if(f.current.isDirty){const e=b.current.isDirty;b.current.isDirty=I(),n.isDirty=b.current.isDirty,a=e!==n.isDirty}if(f.current.dirtyFields&&!r){const r=$(b.current.dirtyFields,e);!de($(g.current,e),t)?ue(b.current.dirtyFields,e,!0):ge(b.current.dirtyFields,e),n.dirtyFields=b.current.dirtyFields,a=a||r!==$(b.current.dirtyFields,e)}const i=$(b.current.touchedFields,e);return r&&!i&&(ue(b.current.touchedFields,e,r),n.touchedFields=b.current.touchedFields,a=a||f.current.touchedFields&&i!==r),a&&s&&w.current.state.next(n),a?n:{}}),[]),C=d.exports.useCallback((async(e,t)=>{const r=(await ze($(p.current,e),j,i))[e];return k(t,e,r),R(r)}),[j]),L=d.exports.useCallback((async e=>{const{errors:t}=await m.current(le(p),v.current,Ne(E.current.mount,p.current,c,i));if(e)for(const r of e){const e=$(t,r);e?ue(b.current.errors,r,e):ge(b.current.errors,r)}else b.current.errors=t;return t}),[c,i]),Q=async(e,t,r={valid:!0})=>{for(const s in e){const n=e[s];if(n){const e=n._f,s=X(n,"_f");if(e){const s=await ze(n,j,i);if(t){if(s[e.name]){r.valid=!1;break}}else s[e.name]?ue(b.current.errors,e.name,s[e.name]):ge(b.current.errors,e.name)}s&&await Q(s,t,r)}}return r.valid},U=d.exports.useCallback((async(e,t={})=>{const s=te(e);let n;if(w.current.state.next({isValidating:!0}),r){const t=await L(R(e)?e:s);n=e?s.every((e=>!$(t,e))):ee(t)}else e?n=(await Promise.all(s.filter((e=>$(p.current,e,{})._f)).map((async e=>await C(e,!0))))).every(Boolean):(await Q(p.current),n=ee(b.current.errors));return w.current.state.next(Object.assign(Object.assign({},Se(e)?{name:e}:{}),{errors:b.current.errors,isValidating:!1})),t.shouldFocus&&!n&&ce(p.current,(e=>$(b.current.errors,e)),e?s:E.current.mount),f.current.isValid&&J(),n}),[L,C]),H=(e,t)=>{const r=$(p.current,e);if(r){const s=R(r._f.value),n=s?R($(y.current,e))?$(g.current,e):$(y.current,e):r._f.value;R(n)?s&&(r._f.value=ke(r)):t&&t.defaultChecked?r._f.value=ke(r):N(e,n)}x.current&&f.current.isValid&&J()},J=d.exports.useCallback((async(e={})=>{const t=r?ee((await m.current(Object.assign(Object.assign({},le(p)),e),v.current,Ne(E.current.mount,p.current,c,i))).errors):await Q(p.current,!0);t!==b.current.isValid&&w.current.state.next({isValid:t})}),[c,i]),G=d.exports.useCallback(((e,t,r)=>Object.entries(t).forEach((([t,s])=>{const n=`${e}.${t}`,a=$(p.current,n);!E.current.array.has(e)&&oe(s)&&(!a||a._f)||A(s)?N(n,s,r,!0,!a):G(n,s,r)}))),[U]),W=d.exports.useCallback((async({type:e,target:s,target:{value:n,type:a}})=>{let u,l,o=s.name;const d=$(p.current,o);if(d){let g=a?ke(d):void 0;g=R(g)?n:g;const y=e===T,{isOnBlur:h,isOnChange:x}=De(t),E=(f=d._f,!(d._f.mount&&f&&(f.required||f.min||f.max||f.maxLength||f.minLength||f.pattern||f.validate)||r||$(b.current.errors,o))||(({isOnBlur:e,isOnChange:t,isOnTouch:r,isTouched:s,isReValidateOnBlur:n,isReValidateOnChange:a,isBlurEvent:i,isSubmitted:u,isOnAll:c})=>!c&&(!u&&r?!(s||i):(u?n:e)?!i:!(u?a:t)||i))(Object.assign({isBlurEvent:y,isTouched:!!$(b.current.touchedFields,o),isSubmitted:b.current.isSubmitted,isReValidateOnBlur:h,isReValidateOnChange:x},O))),N=!y&&q(o);R(g)||(d._f.value=g);const I=S(o,d._f.value,y,!1),A=!ee(I)||N;if(E)return!y&&w.current.watch.next({name:o,type:e,values:Y()}),A&&w.current.state.next(N?{name:o}:Object.assign(Object.assign({},I),{name:o}));if(w.current.state.next({isValidating:!0}),r){const{errors:e}=await m.current(le(p),v.current,Ne([o],p.current,c,i));if(u=$(e,o),V(s)&&!u){const t=D(o),r=$(e,t,{});r.type&&r.message&&(u=r),(r||$(b.current.errors,t))&&(o=t)}l=ee(e)}else u=(await ze(d,j,i))[o];!y&&w.current.watch.next({name:o,type:e,values:Y()}),k(!1,o,u,I,l,N)}var f}),[]),Y=e=>{const t=Object.assign(Object.assign({},g.current),le(p));return R(e)?t:Se(e)?$(t,e):e.map((e=>$(t,e)))},K=d.exports.useCallback(((e,t,r,s)=>{const n=Array.isArray(e),a=s||x.current?Object.assign(Object.assign({},g.current),s||le(p)):R(t)?g.current:n?t:{[e]:t};if(R(e))return r&&(E.current.watchAll=!0),a;const i=[];for(const u of te(e))r&&E.current.watch.add(u),i.push($(a,u));return n?i:i[0]}),[]),ne=(e,t={})=>{for(const r of e?te(e):E.current.mount)E.current.mount.delete(r),E.current.array.delete(r),$(p.current,r)&&(!t.keepError&&ge(b.current.errors,r),!t.keepValue&&ge(p.current,r),!t.keepDirty&&ge(b.current.dirtyFields,r),!t.keepTouched&&ge(b.current.touchedFields,r),!u&&!t.keepDefaultValue&&ge(g.current,r));w.current.watch.next({values:Y()}),w.current.state.next(Object.assign(Object.assign({},b.current),t.keepDirty?{isDirty:I()}:{})),!t.keepIsValid&&J()},ae=(e,t,r)=>{ie(e,r);let s=$(p.current,e);const n=(e=>he(e)||V(e))(t);t===s._f.ref||n&&F(s._f.refs||[]).find((e=>e===t))||(s={_f:n?Object.assign(Object.assign({},s._f),{refs:[...F(s._f.refs||[]).filter((e=>Fe(e)&&document.contains(e))),t],ref:{type:t.type,name:e}}):Object.assign(Object.assign({},s._f),{ref:t})},ue(p.current,e,s),H(e,t))},ie=d.exports.useCallback(((e,t={})=>{const r=$(p.current,e);return ue(p.current,e,{_f:Object.assign(Object.assign(Object.assign({},r&&r._f?r._f:{ref:{name:e}}),{name:e,mount:!0}),t)}),E.current.mount.add(e),!r&&H(e),Le?{name:e}:{name:e,onChange:W,onBlur:W,ref:r=>{if(r)ae(e,r,t);else{const r=$(p.current,e,{}),s=u||t.shouldUnregister;r._f&&(r._f.mount=!1,R(r._f.value)&&(r._f.value=r._f.ref.value)),s&&(!((e,t)=>[...e].some((e=>D(t)===e)))(E.current.array,e)||!h.current)&&E.current.unMount.add(e)}}}}),[]),fe=d.exports.useCallback(((e,t)=>async s=>{s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let n=!0,u=le(p);w.current.state.next({isSubmitting:!0});try{if(r){const{errors:e,values:t}=await m.current(u,v.current,Ne(E.current.mount,p.current,c,i));b.current.errors=e,u=t}else await Q(p.current);ee(b.current.errors)&&Object.keys(b.current.errors).every((e=>$(u,e)))?(w.current.state.next({errors:{},isSubmitting:!0}),await e(u,s)):(t&&await t(b.current.errors,s),a&&ce(p.current,(e=>$(b.current.errors,e)),E.current.mount))}catch(l){throw n=!1,l}finally{b.current.isSubmitted=!0,w.current.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ee(b.current.errors)&&n,submitCount:b.current.submitCount+1,errors:b.current.errors})}}),[a,j,c,i]),me=(e,t="")=>{for(const r in e){const s=e[r],n=t+(t?".":"")+r,a=$(p.current,n);a&&a._f||(z(s)||Array.isArray(s)?me(s,n):a||ie(n,{value:s}))}};return d.exports.useEffect((()=>{const e=w.current.state.subscribe({next(e){((e,t,r)=>{const s=X(e,"name");return ee(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find((e=>t[e]===(!r||P)))})(e,f.current,!0)&&(b.current=Object.assign(Object.assign({},b.current),e),o(b.current))}}),t=w.current.array.subscribe({next(e){if(e.values&&e.name&&f.current.isValid){const t=le(p);ue(t,e.name,e.values),J(t)}}});return()=>{e.unsubscribe(),t.unsubscribe()}}),[]),d.exports.useEffect((()=>{const e=[],t=e=>!Fe(e)||!document.contains(e);x.current||(x.current=!0,f.current.isValid&&J(),!u&&me(g.current));for(const r of E.current.unMount){const s=$(p.current,r);s&&(s._f.refs?s._f.refs.every(t):t(s._f.ref))&&e.push(r)}e.length&&ne(e),E.current.unMount=new Set})),{control:d.exports.useMemo((()=>({register:ie,inFieldArrayActionRef:h,getIsDirty:I,subjectsRef:w,watchInternal:K,fieldsRef:p,updateIsValid:J,namesRef:E,readFormStateRef:f,formStateRef:b,defaultValuesRef:g,fieldArrayDefaultValuesRef:y,unregister:ne,shouldUnmount:u})),[]),formState:Z(se,l,f),trigger:U,register:ie,handleSubmit:fe,watch:d.exports.useCallback(((e,t)=>Ie(e)?w.current.watch.subscribe({next:r=>e(K(void 0,t),r)}):K(e,t,!0)),[]),setValue:d.exports.useCallback(((e,t,r={})=>{const s=$(p.current,e),n=E.current.array.has(e);n&&(w.current.array.next({values:t,name:e,isReset:!0}),(f.current.isDirty||f.current.dirtyFields)&&r.shouldDirty&&(ue(b.current.dirtyFields,e,be(t,$(g.current,e,[]),$(b.current.dirtyFields,e,[]))),w.current.state.next({name:e,dirtyFields:b.current.dirtyFields,isDirty:I(e,t)})),!t.length&&ue(p.current,e,[])&&ue(y.current,e,[])),(s&&!s._f||n)&&!_(t)?G(e,t,n?{}:r):N(e,t,r,!0,!s),q(e)&&w.current.state.next({}),w.current.watch.next({name:e,values:Y()})}),[G]),getValues:d.exports.useCallback(Y,[]),reset:d.exports.useCallback(((e,t={})=>{const r=e||g.current;if(re&&!t.keepValues)for(const n of E.current.mount){const e=$(p.current,n);if(e&&e._f){const t=Array.isArray(e._f.refs)?e._f.refs[0]:e._f.ref;try{Fe(t)&&t.closest("form").reset();break}catch(s){}}}!t.keepDefaultValues&&(g.current=Object.assign({},r)),t.keepValues||(p.current={},w.current.control.next({values:t.keepDefaultValues?g.current:Object.assign({},r)}),w.current.watch.next({values:Object.assign({},r)}),w.current.array.next({values:Object.assign({},r),isReset:!0})),E.current={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1},w.current.state.next({submitCount:t.keepSubmitCount?b.current.submitCount:0,isDirty:t.keepDirty?b.current.isDirty:!!t.keepDefaultValues&&de(e,g.current),isSubmitted:!!t.keepIsSubmitted&&b.current.isSubmitted,dirtyFields:t.keepDirty?b.current.dirtyFields:{},touchedFields:t.keepTouched?b.current.touchedFields:{},errors:t.keepErrors?b.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1}),x.current=!!t.keepIsValid}),[]),clearErrors:d.exports.useCallback((e=>{e?te(e).forEach((e=>ge(b.current.errors,e))):b.current.errors={},w.current.state.next({errors:b.current.errors})}),[]),unregister:d.exports.useCallback(ne,[]),setError:d.exports.useCallback(((e,t,r)=>{const s=(($(p.current,e)||{_f:{}})._f||{}).ref;ue(b.current.errors,e,Object.assign(Object.assign({},t),{ref:s})),w.current.state.next({name:e,errors:b.current.errors,isValid:!1}),r&&r.shouldFocus&&s&&s.focus&&s.focus()}),[]),setFocus:d.exports.useCallback((e=>$(p.current,e)._f.ref.focus()),[])}}const Be={"Content-Type":"application/json"},Qe=e=>fetch(e,{method:"GET",headers:Be}).then((e=>e.json())),Pe=(e,t)=>fetch(e,{method:"POST",body:JSON.stringify(t),headers:Be}).then((e=>e.json())),Ue="https://printful.com/test-quiz.php",He=()=>Qe(`${Ue}?action=quizzes`),Je=e=>Pe("/api/test",e),Ge=()=>{const e=y();return g(Je,{onSuccess:t=>{e.setQueryData(["test",t.id],t)}})},We=({quizId:e})=>Qe(`${Ue}?action=questions&quizId=${e}`),Ye=({isLoading:e=!1,showLoader:t=!0,children:r})=>f.createElement(f.Fragment,null,e&&t&&f.createElement("div",{className:"absolute inset-0 w-full h-full flex flex-auto justify-center items-center"},f.createElement("div",{className:"h-5 w-5 bg-gray-400 rounded-full mr-3 animate-bounce"}),f.createElement("div",{className:"h-5 w-5 bg-gray-400 rounded-full mr-3 animate-bounce200"}),f.createElement("div",{className:"h-5 w-5 bg-gray-400 rounded-full animate-bounce400"})),f.createElement(b,{in:!e,appear:!0,timeout:{enter:300,exit:0},classNames:"slide",unmountOnExit:!0,mountOnEnter:!0},r));var Ke=f.memo((e=>{var t=e,{children:r}=t,s=((e,t)=>{var r={};for(var s in e)i.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&a)for(var s of a(e))t.indexOf(s)<0&&u.call(e,s)&&(r[s]=e[s]);return r})(t,["children"]);return f.createElement("button",l({className:"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow whitespace-nowrap disabled:opacity-50 disabled:hover:bg-white"},s),r)}));const Xe=()=>{const e=v(),{data:t,isLoading:r}=p("quizzes",He,s);var s;const{mutateAsync:n}=Ge(),{register:a,handleSubmit:i,setFocus:u,formState:{errors:c,isSubmitting:o,isValid:m},watch:b}=Me({mode:"onChange",defaultValues:{name:localStorage.getItem("name"),quizId:void 0}});d.exports.useEffect((()=>{!r&&u("name")}),[u,r]);const g=b("quizId");d.exports.useEffect((()=>{g&&(({quizId:e})=>{ot.prefetchQuery(["questions",e],(()=>We({quizId:e})))})({quizId:Number(g)})}),[g]);const y=d.exports.useCallback((t=>n(t).then((t=>{var r;return r=t.name,localStorage.setItem("name",r),e.push(`/${null==t?void 0:t.id}/quiz/${null==t?void 0:t.quizId}/question`)}))),[]);return f.createElement(Ye,{isLoading:r},(()=>{var e;return f.createElement("div",{className:"flex flex-col justify-center items-center w-full"},f.createElement("h1",{className:"!text-6xl text-center"},"Quiz App"),f.createElement("div",{className:"max-w-sm w-full shadow-lg rounded p-6"},f.createElement("form",{onSubmit:i(y)},f.createElement("label",{className:"block"},f.createElement("span",{className:"text-gray-700"},"Name *"),f.createElement("input",l({type:"text",placeholder:"Enter your name",className:"w-full px-1 border-0 border-b-2 border-gray-200 focus:ring-0 focus:border-black"},a("name",{required:!0}))),f.createElement("div",{className:"mb-6 relative"},"required"===(null==(e=null==c?void 0:c.name)?void 0:e.type)&&f.createElement("p",{className:"absolute top-0 text-red-500 text-xs italic !mt-1"},"Name is required"))),f.createElement("label",{className:"block"},f.createElement("span",{className:"text-gray-700"},"Choose quiz"),f.createElement("select",l({className:"w-full px-1 border-0 border-b-2 border-gray-200 focus:ring-0 focus:border-black"},a("quizId",{required:!0})),(null!=t?t:[]).map((({id:e,title:t})=>f.createElement("option",{key:null==e?void 0:e.toString(),value:e},t))))),f.createElement("div",{className:"flex flex-col mt-6"},f.createElement(Ke,{type:"submit",disabled:r||o},"Start")))))}))},Ze=({id:e},t)=>p(["test",e],(()=>(({id:e})=>Qe(`/api/test/${e}`))({id:e})),t),et=({id:e,data:t})=>Pe(`/api/test/${e}/progress`,t),tt=e=>e.map((e=>`answers[]=${e.answerId}`)).join("&"),rt=({quizId:e,answers:t})=>{const r=tt(t);return ot.fetchQuery(["submit",e,r],(()=>(({quizId:e,answers:t})=>{const r=tt(t);return Qe(`${Ue}?action=submit&quizId=${e}&${r}`)})({quizId:e,answers:t})))},st=({quizId:e,questionId:t})=>Qe(`${Ue}?action=answers&quizId=${e}&questionId=${t}`);var nt=f.memo((({onSubmit:e,quizId:t,questionId:r,questionTitle:s})=>{const{data:n}=(({quizId:e,questionId:t},r)=>p(["answers",e,t],(()=>st({quizId:e,questionId:t})),r))({quizId:Number(t),questionId:Number(r)},{enabled:!!r}),{handleSubmit:a,register:i,reset:u,formState:{isSubmitting:c,isValid:o,isDirty:m}}=Me({mode:"onChange"});return d.exports.useEffect((()=>{r&&u()}),[u,r]),f.createElement("form",{onSubmit:a(e),className:"flex flex-col h-full w-full"},f.createElement("div",{className:"flex flex-1"},f.createElement(Ye,{isLoading:!(null==n?void 0:n.length)||c},(()=>f.createElement("div",{className:"flex flex-col justify-center flex-1"},f.createElement("h2",{className:"!mt-0 lg:pb-12"},s),f.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-6 w-full"},(null!=n?n:[]).map((e=>f.createElement("div",{key:e.id.toString(),className:"w-full my-2 overflow-hidden rounded shadow-lg focus-within:ring-2"},f.createElement("label",{className:"flex cursor-pointer"},f.createElement("div",{className:"flex self-start bg-gray-200 p-4"},f.createElement("input",l({type:"radio",value:e.id.toString()},i("answerId",{required:!0})))),f.createElement("div",{className:"flex items-center pl-4"},f.createElement("p",{className:"!m-0"},e.title))))))))))),f.createElement("div",{className:"flex flex-col py-6"},f.createElement(Ke,{type:"submit",disabled:!o||!m||c},"Submit Answer")))}));var at=f.memo((({total:e,lastQuestionIndex:t})=>{const r=e>0?t/e*100:0;return f.createElement("div",{className:"flex w-full items-center"},f.createElement("div",{className:"flex flex-grow overflow-hidden h-2 bg-gray-100 rounded"},f.createElement("div",{style:{width:`${r}%`},className:"bg-green-300 transition-all duration-500 ease-in-out"})),f.createElement("p",{className:"font-bold ml-6 !my-0"},Math.round(r),"%"))}));const it=()=>{var t,r,s,n;const{id:a,quizId:i,questionId:u}=h(),c=v(),m=d.exports.useContext(I),b=(()=>{const e=y();return g(et,{onSuccess:({progress:t,answer:r})=>{e.setQueryData(["test",t.testId],(e=>{if(e)return o(l({},e),{progress:l(l({},e.progress),t),answers:[...e.answers,r]})}))}})})(),{data:x,isLoading:w}=Ze({id:String(a)}),{data:E,isLoading:O}=(({quizId:e},t)=>p(["questions",e],(()=>We({quizId:e})),t))({quizId:Number(i)}),j=u?(null!=E?E:[]).findIndex((e=>e.id===Number(u))):0,q=null==E?void 0:E[j],k=null==(t=null==x?void 0:x.progress)?void 0:t.lastQuestionId,N=null==(r=null==E?void 0:E[j+1])?void 0:r.id,S=d.exports.useCallback((()=>N?c.push(`/${a}/quiz/${i}/question/${N}`):c.push(`/${a}/quiz/${i}/result`)),[a,i,N]),V=d.exports.useCallback((t=>{var r;return rt({quizId:String(i),answers:[...null!=(r=null==x?void 0:x.answers)?r:[],{answerId:t.answerId}]}).then((e=>{var r;return b.mutateAsync({id:String(a),data:o(l(l({},t),e),{questionId:Number(null==q?void 0:q.id),lastQuestionId:null!=(r=N&&Number(N))?r:-1})})})).then((({answerCorrect:t})=>{m(t?{message:"Correct!",type:e.success}:{message:"Better luck next time!"})})).then(S)}),[i,N,null==x?void 0:x.answers,null==q?void 0:q.id]);return d.exports.useEffect((()=>{i&&N&&(({quizId:e,questionId:t})=>{ot.prefetchQuery(["answers",e,t],(()=>st({quizId:e,questionId:t})))})({quizId:Number(i),questionId:N})}),[i,N]),d.exports.useEffect((()=>{!w&&!O&&(-1===k?c.push(`/${a}/quiz/${i}/result`):x&&(q||k)?k&&k!==(null==q?void 0:q.id)&&c.push(`/${a}/quiz/${null==x?void 0:x.quizId}/question/${k}`):c.push("/"))}),[c,w,O,a,i,x,q,k]),f.createElement(f.Fragment,null,f.createElement(nt,{onSubmit:V,quizId:Number(i),questionId:null==q?void 0:q.id,questionTitle:null==q?void 0:q.title}),f.createElement(at,{total:null!=(n=null==(s=null==x?void 0:x.progress)?void 0:s.total)?n:0,lastQuestionIndex:Math.max(j,0)}))},ut={emojis:["ðŸŒˆ","âš¡ï¸","ðŸ’¥","âœ¨","ðŸ’«","ðŸŒ¸","ðŸ¦„"],emojiSize:50},ct=()=>{var e,t;const r=v(),{id:s}=h(),{data:n,isLoading:a}=Ze({id:s}),i=!a&&(null==(e=null==n?void 0:n.progress)?void 0:e.correct)===(null==(t=null==n?void 0:n.progress)?void 0:t.total),{mutateAsync:u}=Ge(),c=()=>{(null==n?void 0:n.quizId)&&(null==n?void 0:n.name)&&u(n).then((({id:e,quizId:t})=>r.push(`/${e}/quiz/${t}/question`)))};return d.exports.useEffect((()=>{if(i){lt.addConfetti(ut);const e=setInterval((()=>{lt.addConfetti(ut)}),2e3);return()=>clearInterval(e)}}),[i]),d.exports.useEffect((()=>{a||n||r.push("/")}),[r,a]),f.createElement(Ye,{isLoading:a},(()=>{var e,t;return f.createElement("div",{className:"flex flex-col justify-center"},f.createElement("h1",{className:"text-center"},"Thanks, ",null==n?void 0:n.name,"!"),f.createElement("p",{className:"text-center"},"You responded correctly to ",null==(e=null==n?void 0:n.progress)?void 0:e.correct," out of"," ",null==(t=null==n?void 0:n.progress)?void 0:t.total," questions"),f.createElement("div",{className:"flex justify-center"},f.createElement("div",{className:"mx-3"},f.createElement(Ke,{onClick:c},"Retry")),f.createElement("div",{className:"mx-3"},f.createElement(Ke,{onClick:()=>r.push("/")},"Next Quiz"))))}))},lt=new x,ot=new w({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,retry:!1,staleTime:18e5}}});function dt(){return f.createElement("div",{className:"!container prose lg:prose-xl mx-auto min-h-full flex"},f.createElement("div",{className:"flex flex-1 flex-col justify-center items-center p-6 sm:py-16"},f.createElement(E,{client:ot},f.createElement(O.exports.ReactQueryDevtools,{initialIsOpen:!1}),f.createElement(S,null,f.createElement(j,null,f.createElement(q,null,f.createElement(k,{path:"/",component:Xe,exact:!0}),f.createElement(k,{path:"/:id/quiz/:quizId/question/:questionId?",component:it,exact:!0}),f.createElement(k,{path:"/:id/quiz/:quizId/result",component:ct,exact:!0})))))))}N.render(f.createElement(f.StrictMode,null,f.createElement(dt,null)),document.getElementById("root"));
